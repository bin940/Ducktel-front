{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, vModelSelect as _vModelSelect, withModifiers as _withModifiers, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"payment-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[16] || (_cache[16] = _createElementVNode(\"h2\", null, \"결제 정보 입력\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[6] || (_cache[6] = _withModifiers((...args) => $options.submitPayment && $options.submitPayment(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", null, [_createElementVNode(\"label\", null, [_cache[7] || (_cache[7] = _createTextVNode(\"이름: \")), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.paymentData.name = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.paymentData.name]])])]), _createElementVNode(\"div\", null, [_createElementVNode(\"label\", null, [_cache[8] || (_cache[8] = _createTextVNode(\"전화번호: \")), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.paymentData.phoneNumber = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.paymentData.phoneNumber]])])]), _createElementVNode(\"div\", null, [_createElementVNode(\"label\", null, [_cache[9] || (_cache[9] = _createTextVNode(\"체크인: \")), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.paymentData.checkInDate = $event),\n    readonly: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.paymentData.checkInDate]])])]), _createElementVNode(\"div\", null, [_createElementVNode(\"label\", null, [_cache[10] || (_cache[10] = _createTextVNode(\"체크아웃: \")), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.paymentData.checkOutDate = $event),\n    readonly: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.paymentData.checkOutDate]])])]), _createElementVNode(\"div\", null, [_createElementVNode(\"label\", null, [_cache[11] || (_cache[11] = _createTextVNode(\"결제 금액: \")), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.paymentData.amount = $event),\n    readonly: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.paymentData.amount]])])]), _createElementVNode(\"div\", null, [_createElementVNode(\"label\", null, [_cache[13] || (_cache[13] = _createTextVNode(\"결제 방법: \")), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.paymentData.paymentMethod = $event),\n    required: \"\"\n  }, _cache[12] || (_cache[12] = [_createElementVNode(\"option\", {\n    value: \"credit_card\"\n  }, \"신용카드\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"bank_transfer\"\n  }, \"계좌이체\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.paymentData.paymentMethod]])])]), _cache[14] || (_cache[14] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"결제하기\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */), _createVNode(_component_router_link, {\n    to: `/places/${$data.paymentData.accommodationId}/${$data.paymentData.checkInDate}/${$data.paymentData.checkOutDate}`\n  }, {\n    default: _withCtx(() => _cache[15] || (_cache[15] = [_createTextVNode(\" 뒤로 가기 \")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","submitPayment","_createTextVNode","$event","$data","paymentData","name","required","phoneNumber","type","checkInDate","readonly","checkOutDate","amount","paymentMethod","value","_createVNode","_component_router_link","to","accommodationId","default","_withCtx","_"],"sources":["C:\\Users\\mycoms\\Desktop\\study\\duckfront\\src\\components\\PaymentPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"payment-container\">\r\n    <h2>결제 정보 입력</h2>\r\n    <form @submit.prevent=\"submitPayment\">\r\n     <div>\r\n  <label>이름: <input v-model=\"paymentData.name\" required /></label>\r\n</div>\r\n<div>\r\n  <label>전화번호: <input v-model=\"paymentData.phoneNumber\" required /></label>\r\n</div>\r\n      <div>\r\n        <label>체크인: <input type=\"date\" v-model=\"paymentData.checkInDate\" readonly /></label>\r\n      </div>\r\n      <div>\r\n        <label>체크아웃: <input type=\"date\" v-model=\"paymentData.checkOutDate\" readonly /></label>\r\n      </div>\r\n      <div>\r\n        <label>결제 금액: <input v-model=\"paymentData.amount\" readonly /></label>\r\n      </div>\r\n      <div>\r\n        <label>결제 방법:\r\n          <select v-model=\"paymentData.paymentMethod\" required>\r\n            <option value=\"credit_card\">신용카드</option>\r\n            <option value=\"bank_transfer\">계좌이체</option>\r\n          </select>\r\n        </label>\r\n      </div>\r\n      <button type=\"submit\">결제하기</button>\r\n    </form>\r\n    <router-link :to=\"`/places/${paymentData.accommodationId}/${paymentData.checkInDate}/${paymentData.checkOutDate}`\">\r\n      뒤로 가기\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from \"../api\";\r\n\r\nexport default {\r\n  name: \"PaymentPage\",\r\n  data() {\r\n    return {\r\n      paymentData: {\r\n        userId: this.$route.query.userId || \"guest\",\r\n        accommodationId: this.$route.query.accommodationId,\r\n        roomId: this.$route.query.roomId,\r\n        name: this.$route.query.name,\r\n        phoneNumber: this.$route.query.phoneNumber || \"\",\r\n        checkInDate: this.$route.query.checkInDate,\r\n        checkOutDate: this.$route.query.checkOutDate,\r\n        paymentComplete: false,\r\n        amount: Number(this.$route.query.amount),\r\n        paymentMethod: this.$route.query.paymentMethod || \"credit_card\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    async submitPayment() {\r\n      try {\r\n        const response = await api.post(\"/api/payment/create\", this.paymentData);\r\n        const result = response.data;\r\n        console.log(\"결제 응답:\", result);\r\n        if (result.status === 200 && !result.errorCode) {\r\n          alert(\"결제가 완료되었습니다!\");\r\n          this.$router.push(\"/\");\r\n        } else {\r\n          alert(\"결제 실패: \" + result.message);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"결제 오류:\", error.response?.data || error.message);\r\n        alert(\"결제 중 오류가 발생했습니다.\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.payment-container {\r\n  max-width: 600px;\r\n  margin: 50px auto;\r\n  padding: 20px;\r\n}\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n}\r\nlabel {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n}\r\ninput, select {\r\n  padding: 5px;\r\n  width: 100%;\r\n}\r\nbutton {\r\n  padding: 10px;\r\n  background-color: #28a745;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\nbutton:hover {\r\n  background-color: #218838;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}